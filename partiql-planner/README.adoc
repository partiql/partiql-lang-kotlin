= PartiQL-System PR

This document follows along with the _PartiQL-system_ implementation; it will be upstreamed to the specification once the PR is completed.

== Implementation Plan

- [ ] Get to plan typer parity.
- [ ] Use SFWD style internal IR with mutable fields rather than Rel.Type

== Classes

The _metadata_ package contains the interfaces for PartiQL's system
which enables developers to leverage the planner across diverse backends.

[cols="1e,4"]
|===
| Class | Description

| Context | The main planner context.
| Function | A _Function_ is a PartiQL-routine which can be invoked from an expression context. A _Function_ is unique within a namespace by its name and formal arguments (parameters); therefore its name may be overloaded like in SQL.
| Namespace | A _Namespace_ is a namespace for tables and routines. It may contain nested namespaces, and a top-level namespace is called a _Catalog_. The initial _Namespace_ interface provides methods for table, function, and sub-namespace lookup.
| Session | The _Session_ holds the current namespace and PATH for name resolution.
| Statistics | A _Statistics_ object is used by the query planner for table statistics and metadata such as available keys and indexes. This is currently a placeholder.
| Table | A _Table_ can be either a base table, view, or index. Every table has a _Shape_ and a _Statistic_.

|===
